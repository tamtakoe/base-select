!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var s in i)("object"==typeof exports?exports:e)[s]=i[s]}}(self,(()=>(()=>{"use strict";var e={409:(e,t,i)=>{i.d(t,{A:()=>h});var s=i(601),n=i.n(s),r=i(314),l=i.n(r),o=i(417),a=i.n(o),c=new URL(i(541),i.b),p=l()(n()),d=a()(c);p.push([e.id,`.base-select{display:inline-block;position:relative;width:329px;font:400 13.3333px Arial;vertical-align:text-top}.base-select .select-search{cursor:text;border:1px solid #a9a9a9;background-color:#fff;overflow:hidden !important;box-sizing:border-box}.base-select .select-search-placeholder{display:none}.base-select .select-search-list{display:flex;flex-flow:row wrap;justify-content:flex-start;margin:0;padding:0;list-style:none}.base-select .select-search-list-item{font-size:inherit;line-height:inherit;white-space:normal}.base-select .select-search-list-item_selection{cursor:pointer;background-color:#efefef;border-color:#4d90fe;min-height:1.2em;padding:1px 4px 0px}.base-select .select-search-list-item_selection:hover{border-color:#e5e5e5}.base-select .select-search-list-item_selection:active,.base-select .select-search-list-item_selection.active{box-shadow:inset 0 0 10px 5px #fff}.base-select .select-search-list-item_selection.active .close,.base-select .select-search-list-item_selection.loading .close{display:none}.base-select .select-search-list-item_selection .close{padding-left:2px}.base-select .select-search-list-item_selection.loading::after{content:"";display:inline-block;margin-left:.2em;width:.8em;height:.8em;vertical-align:middle;background:url(${d}) center no-repeat;background-size:contain}.base-select .select-search-list-item_loader{float:right;margin:.5em .3em 0 0;width:1em;height:1em;background:url(${d}) center no-repeat}.base-select .select-search-list-item_input{flex-grow:1}.base-select .select-search-list-item_input input{padding-left:4px;outline:0;border:0;width:100%;font-family:inherit;font-size:inherit;line-height:inherit}.base-select .select-dropdown{position:absolute;width:inherit;min-width:160px;font-size:inherit;line-height:inherit;background-color:#fff;outline:solid 1px #66afe9;outline:solid 1px -webkit-focus-ring-color;outline:solid 1px -moz-CellHighlight;background-clip:padding-box;z-index:1000}.base-select .select-dropdown-empty{padding:3px 0 3px 1.5em;color:rgba(0,0,0,.6)}.base-select .select-dropdown-list{width:inherit;overflow-y:scroll;max-height:8em}.base-select .select-dropdown-list-optgroup{margin:0;padding:0}.base-select .select-dropdown-list-optgroup-header{font-weight:bolder;padding:3px 0 3px .7em}.base-select .select-dropdown-list-optgroup-option{position:relative;padding:3px 0 3px 1.5em;cursor:default}.base-select .select-dropdown-list-optgroup-option.active:not(.disabled){background-color:rgba(0,0,0,.05);cursor:pointer}.base-select .select-dropdown-list-optgroup-option.disabled{color:#aaa}.base-select .select-dropdown-list-optgroup-option.selected::before{content:"✓";position:absolute;left:.5em}.base-select:not(.multiple) .select-search-list-item_selection{color:#000;flex-grow:1;border-color:#fff;text-align:left}.base-select:not(.multiple) .select-search-list-item_selection:not(:active){background:none}.base-select:not(.removable) .select-search-list-item_selection .close{display:none}.base-select:not(.removable).multiple .select-search-list-item_selection:not(.loading)::after{content:"×";margin-left:.2em;vertical-align:middle}.base-select:not(.removable):not(.multiple) .select-search-list-item_info{display:none}.base-select:not(.removable):not(.multiple) .select-search::after{content:"";position:absolute;display:block;right:5px;width:0;height:0;margin-top:-0.9em;border-color:#000 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:5px 5px 0 5px}.base-select[disabled=disabled]{user-select:none}.base-select[disabled=disabled] .select-search-list-item{cursor:not-allowed;background:#eee;border:1px solid #bdbdbd;opacity:.5}.base-select[disabled=disabled] .select-search-list-item_selection{cursor:not-allowed;box-shadow:none;border-color:rgba(0,0,0,0)}.base-select[disabled=disabled] .select-search-list-item_selection .close{visibility:hidden}.base-select[disabled=disabled] .select-search-list-item_input input:disabled{cursor:not-allowed;background:none}.base-select.focused .select-search{outline:auto 5px #66afe9;outline:auto 5px -webkit-focus-ring-color;outline:auto 1px -moz-CellHighlight}.base-select.limited .select-search,.base-select.limited .select-dropdown,.base-select.invalid-item .select-search,.base-select.invalid-item .select-dropdown{border-color:#f1bc28}.base-select:not(.above) .select-dropdown{border-top-width:0}.base-select.above .select-dropdown{bottom:100%;border-bottom-width:0}.base-select.above.open .select-search{border-top:1px solid rgba(0,0,0,.075)}.base-select:not(.open) .select-dropdown{display:none}.base-select:not(.multiple):not([readonly]) .select-search-list-item_selection.active{display:none}.base-select[disabled=disabled] .select-search-list-item_input,.base-select:not(.multiple) .select-search-list-item_selection:not(.active)+.select-search-list-item_info+.select-search-list-item_input,.base-select[readonly]:not(.multiple) .select-search-list-item_selection+.select-search-list-item_info+.select-search-list-item_input{position:fixed;width:0;height:0;margin:0;opacity:0;pointer-events:none;text-indent:-9999em}.base-select:not(.loading) .select-search-list-item_loader{display:none}.base-select.open:not(.multiple) .select-search::after{border-color:rgba(0,0,0,0) rgba(0,0,0,0) #000 rgba(0,0,0,0);border-width:0 5px 5px 5px}.base-select.loading:not(.multiple) .select-search::after{border-width:0}.base-select.emptyList .select-dropdown-optgroup-option strong{font-weight:normal}.base-select mark{padding:0}.base-select .close{float:right}.base-select .hide{display:none}`,""]);const h=p},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",s=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),s&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),s&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,s,n,r){"string"==typeof e&&(e=[[null,e,void 0]]);var l={};if(s)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(l[a]=!0)}for(var c=0;c<e.length;c++){var p=[].concat(e[c]);s&&l[p[0]]||(void 0!==r&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=r),i&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=i):p[2]=i),n&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=n):p[4]="".concat(n)),t.push(p))}},t}},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},601:e=>{e.exports=function(e){return e[1]}},911:(e,t,i)=>{function s(){this.Diff_Timeout=1}i.d(t,{$i:()=>D,CZ:()=>y,zq:()=>a,Ty:()=>A,AR:()=>_,fr:()=>S,YV:()=>L,SL:()=>E,cl:()=>o,eK:()=>k,X3:()=>h,Zt:()=>C,E$:()=>u,TP:()=>l,lQ:()=>B,lC:()=>x,gS:()=>I,fM:()=>c,VC:()=>w});var n=-1;s.prototype.diff_main=function(e,t,i){void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var s=i;if(null===e||null===t)throw new Error("Null input. (diff_main)");if(e===t)return e.length?[[0,e]]:[];var n=this.diff_commonPrefix(e,t),r=e.slice(0,n);e=e.slice(n),t=t.slice(n),n=this.diff_commonSuffix(e,t);var l=e.slice(e.length-n);e=e.slice(0,e.length-n),t=t.slice(0,t.length-n);var o=this.diff_compute_(e,t,s);return r.length&&o.unshift([0,r]),l.length&&o.push([0,l]),this.diff_cleanupMerge(o),o},s.prototype.diff_compute_=function(e,t,i){var s;if(!e.length)return[[1,t]];if(!t.length)return[[n,e]];var r=e.length>t.length?e:t,l=e.length>t.length?t:e,o=this.find_csa(r,l);if(-1!==o)return s=[[1,r.slice(0,o)],[0,l],[1,r.slice(o+l.length)]],e.length>t.length&&(s[0][0]=s[2][0]=n),s[0][1].length||s.shift(),s;if(1===l.length)return[[n,e],[1,t]];var a=this.diff_halfMatch_(e,t);if(a){var c=a[0],p=a[1],d=a[2],h=a[3],u=a[4],m=this.diff_main(c,d,i),f=this.diff_main(p,h,i);return m.concat([[0,u]],f)}return this.diff_bisect_(e,t,i)},s.prototype.diff_bisect_=function(e,t,i){for(var s=e.length,r=t.length,l=Math.ceil((s+r)/2),o=l,a=2*l,c=new Array(a),p=new Array(a),d=0;d<a;d++)c[d]=-1,p[d]=-1;c[o+1]=0,p[o+1]=0;for(var h=s-r,u=h%2!=0,m=0,f=0,v=0,g=0,b=0;b<l&&!((new Date).getTime()>i);b++){for(var y=-b+m;y<=b-f;y+=2){for(var L=o+y,E=void 0,I=(E=y===-b||y!==b&&c[L-1]<c[L+1]?c[L+1]:c[L-1]+1)-y;E<s&&I<r&&e[E]===t[I];)E++,I++;if(c[L]=E,E>s)f+=2;else if(I>r)m+=2;else if(u&&(S=o+h-y)>=0&&S<a&&-1!==p[S]&&E>=(F=s-p[S]))return this.diff_bisectSplit_(e,t,E,I,i)}for(var w=-b+v;w<=b-g;w+=2){for(var S=o+w,F=void 0,_=(F=w===-b||w!==b&&p[S-1]<p[S+1]?p[S+1]:p[S-1]+1)-w;F<s&&_<r&&e[s-F-1]===t[r-_-1];)F++,_++;if(p[S]=F,F>s)g+=2;else if(_>r)v+=2;else if(!u&&(L=o+h-w)>=0&&L<a&&-1!==c[L]&&(I=o+(E=c[L])-L,E>=(F=s-F)))return this.diff_bisectSplit_(e,t,E,I,i)}}return[[n,e],[1,t]]},s.prototype.diff_bisectSplit_=function(e,t,i,s,n){var r=e.slice(0,i),l=t.slice(0,s),o=e.slice(i),a=t.slice(s),c=this.diff_main(r,l,n),p=this.diff_main(o,a,n);return c.concat(p)},s.prototype.diff_commonPrefix=function(e,t){if(!e.length||!t.length||e[0]!==t[0])return 0;for(var i=0,s=Math.min(e.length,t.length),n=s,r=0;i<n;)e.slice(r,n)===t.slice(r,n)?r=i=n:s=n,n=Math.floor((s-i)/2+i);return n},s.prototype.diff_commonSuffix=function(e,t){if(!e.length||!t.length||e[e.length-1]!==t[t.length-1])return 0;for(var i=0,s=Math.min(e.length,t.length),n=s,r=0;i<n;)this.compare_arrays(e.slice(e.length-n,e.length-r),t.slice(t.length-n,t.length-r))?r=i=n:s=n,n=Math.floor((s-i)/2+i);return n},s.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var i=e.length>t.length?e:t,s=e.length>t.length?t:e;if(i.length<4||2*s.length<i.length)return null;var n=this;function r(e,t,i){for(var s,r,l,o,a=e.slice(i,i+Math.floor(e.length/4)),c=-1,p=[];-1!==(c=n.find_csa(t,a,c+1));){var d=n.diff_commonPrefix(e.slice(i),t.slice(c)),h=n.diff_commonSuffix(e.slice(0,i),t.slice(0,c));p.length<h+d&&((p=t.slice(c-h,c)).push.apply(p,t.slice(c,c+d)),s=e.slice(0,i-h),r=e.slice(i+d),l=t.slice(0,c-h),o=t.slice(c+d))}return 2*p.length>=e.length?[s,r,l,o,p]:null}var l,o,a,c,p,d=r(i,s,Math.ceil(i.length/4)),h=r(i,s,Math.ceil(i.length/2));return d||h?(l=h?d&&d[4].length>h[4].length?d:h:d,e.length>t.length?(o=l[0],a=l[1],c=l[2],p=l[3]):(c=l[0],p=l[1],o=l[2],a=l[3]),[o,a,c,p,l[4]]):null},s.prototype.diff_cleanupMerge=function(e){e.push([0,[]]);for(var t,i=0,s=0,r=0,l=[],o=[];i<e.length;)switch(e[i][0]){case 1:r++,o.push.apply(o,e[i][1]),i++;break;case n:s++,l.push.apply(l,e[i][1]),i++;break;case 0:if(s+r>1){if(0!==s&&0!==r){if(0!==(t=this.diff_commonPrefix(o,l))){var a=e[i-s-r-1];i-s-r>0&&0===a[0]?a[1].push.apply(a[1],o.slice(0,t)):(e.splice(0,0,[0,o.slice(0,t)]),i++),o=o.slice(t),l=l.slice(t)}0!==(t=this.diff_commonSuffix(o,l))&&((a=e[i][1]).unshift.apply(a,o.slice(o.length-t)),o=o.slice(0,o.length-t),l=l.slice(0,l.length-t))}0===s?e.splice(i-r,s+r,[1,o]):0===r?e.splice(i-s,s+r,[n,l]):e.splice(i-s-r,s+r,[n,l],[1,o]),i=i-s-r+(s?1:0)+(r?1:0)+1}else if(0!==i&&0===e[i-1][0]){var c=e[i-1][1],p=e[i][1];c.push.apply(c,p.splice(1,p.length)),e.splice(i,1)}else i++;r=0,s=0,l=[],o=[]}e[e.length-1][1].length||e.pop();var d=!1;for(i=1;i<e.length-1;)0===e[i-1][0]&&0===e[i+1][0]&&(e[i][1].slice(e[i][1].length-e[i-1][1].length)===e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].slice(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),d=!0):e[i][1].slice(0,e[i+1][1].length)===e[i+1][1]&&((c=e[i-1][1]).push.apply(c,e[i+1][1]),e[i][1]=e[i][1].slice(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),d=!0)),i++;d&&this.diff_cleanupMerge(e)},s.prototype.find_csa=function(e,t,i){var s=i>>>0,n=t.length,r=e.length+1-n;e:for(;s<r;s++){for(var l=0;l<n;l++)if(e[s+l]!==t[l])continue e;return s}return-1},s.prototype.compare_arrays=function(e,t){var i=e.length;if(i!==t.length)return!1;for(;i--;)if(e[i]!==t[i])return!1;return!0},s.prototype.transform_to_splice_arguments=function(e){for(var t=[],i=0,s=0;i<e.length;i++){var r=e[i],l=[s];switch(r[0]){case 1:var o=r[1];l.push(0),l.push.apply(l,o),s+=o.length,t.push(l);break;case n:l.push(r[1].length);var a=e[i+1];if(a&&1===a[0]){var c=a[1];l.push.apply(l,c),i++,s+=c.length}t.push(l);break;case 0:s+=r[1].length}}return t},s.prototype.diff=function(e,t,i){return this.transform_to_splice_arguments(this.diff_main(e,t,i))};var r=new s;function l(e,t,i){for(var s in void 0===t&&(t={}),void 0===i&&(i={}),t){var n=t[s];t.hasOwnProperty(s)&&(e[s]=null!=n?n:i[s])}return e}function o(e,t,i){for(void 0===t&&(t=document.body);e&&e.classList&&e.ownerDocument&&11!==e.nodeType;){if(i&&e.className.indexOf(i)>=0||!i&&e===t)return e;e=e.parentElement}}function a(e,t,i){void 0===i&&(i="isolated");var s,n=!1,r=!1,l=!1,a=e.parentNode;for(document.addEventListener("click",h,!0),e.addEventListener("mousedown",d,!0),e.addEventListener("blur",c,!0),t.addEventListener("focus",p,!0);a;){if(a.host){s=a.host;break}a=a.parentNode}function c(i){i&&i.target!==t||(l=!1,n=!1,r?l=!0:setTimeout((function(){e.dispatchEvent(new Event("blur"))})))}function p(){n||(n=!0,setTimeout((function(){e.dispatchEvent(new Event("focus"))})))}function d(){r=!0}function h(a){console.log("+++ clickHandler",!!o(a.target,e),a.target,a.target!==t,a.target.nodeName),r=!1;var p=s&&a.target===s?e:a.target;if(!o(p,e,i)){var d=!!o(p,e);l&&!d&&c(),d&&p!==t&&setTimeout((function(){t.focus()})),!d&&n&&(n=!1)}}return{element:e,inputElement:t,unbind:function(){document.removeEventListener("click",h,!0),e.removeEventListener("mousedown",d,!0),e.removeEventListener("blur",c,!0),t.removeEventListener("focus",p)}}}function c(e,t){var i,s,n,r,l,o;t&&(s=e.offsetHeight,n=function(e,t,i){var s=e.offsetHeight,n=window.getComputedStyle(e,null);if(s<=0||null==s){if(((s=n[t])<0||null==s)&&(s=e.style[t]),p.test(s))return s;s=parseFloat(s)||0}return s+function(e,t,i,s,n){var r=0,l=0,o=["Top","Right","Bottom","Left"];function a(e){return parseFloat(n[e])}for(;r<4;r+=2)l+=a(i+o[r]);return l}(0,0,"margin",0,n)}(t,"height"),r=e.scrollTop||0,l=i=d(t).top-d(e).top+r,o=i-s+n,i+n>s+r?e.scrollTop=o:i<r&&(e.scrollTop=l))}var p=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i");function d(e){var t,i,s=e.getBoundingClientRect(),n=e&&e.ownerDocument;if(n)return t=n.documentElement,i=function(e){return null!=e&&e===e.window?e:9===e.nodeType&&e.defaultView}(n),{top:s.top+i.pageYOffset-t.clientTop,left:s.left+i.pageXOffset-t.clientLeft}}function h(e,t,i){void 0===i&&(i=100);var s=e.getBoundingClientRect().top,n=window.innerHeight-e.getBoundingClientRect().bottom;return n<(parseInt(window.getComputedStyle(t)["max-height"])||i)&&n<s}function u(e,t,i,s){var n,r,l,o,a=s?e.slice():[];for(n=0,l=e.length;n<e.length;n++)for(o=i?i(e[n]):e[n],r=0;r<t.length;r++)if(m(o,i?i(t[r]):t[r])){s?a.splice(n+a.length-l,1):a.push(t[r]);break}return a}function m(e,t,i){return void 0===i&&(i=!0),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?i?e===t:e==t:function(e,t,i){var s,n;if(null==e||null==t)return!1;if(e.prototype!==t.prototype)return!1;try{var r=Object.keys(e),l=Object.keys(t);if(r.length!==l.length)return!1;for(r.sort(),l.sort(),s=r.length-1;s>=0;s--)if(r[s]!=l[s])return!1;for(s=r.length-1;s>=0;s--)if(!m(e[n=r[s]],t[n],i))return!1;return typeof e==typeof t}catch(e){return!1}}(e,t,i))}function f(e){return String(void 0!==e?e:"")}var v=/[-\/\\^$*+?.()|[\]{}]/g,g="\\$&";function b(e){return e.replace(v,g)}function y(e,t,i,s){void 0===s&&(s={});var n,r,l,o,a,c=[],p=[],d=[],h=s.sort,u=s.strict,m="desc"===h?-1:1,v=u?"":"i",g=[i];if(s.fields&&(g=s.fields.map((function(e){return"function"==typeof e?e:function(t){return _(t,e,!0)}}))),i=g[0],""!==t&&i){var y=b(f(t)),L=new RegExp(y,v),E=new RegExp("^"+y,v);for(n=0,l=!1;n<e.length;n++){for(o=e[n],r=0;r<g.length;r++){var I=g[r](o);if(l=I===t||!u&&I==t||void 0!==t&&L.test(f(I)))break}l&&c.push(o)}if(h)a=c;else{for(n=0;n<c.length;n++)o=c[n],E.test(f(i(o)))?p.push(o):d.push(o);a=p.concat(d)}}else a=[].concat(e);return h&&(a=a.sort((function(e,t){return f(i(e)).localeCompare(f(i(t)))*m}))),a}function L(e,t){void 0===e&&(e=[]),void 0===t&&(t=function(e){return""});for(var i,s,n={"":[]},r=0;r<e.length;r++)(s=n[i=t(e[r])||""])||(s=n[i]=[]),s.push(e[r]);return n}function E(e,t,i){void 0===e&&(e=[]),void 0===i&&(i=function(e){return e});for(var s=0;s<e.length;s++)if(i(e[s])===i(t))return s}function I(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function w(e,t,i,s,n){var l,o,a,c=Array.from(e.children),p=function(e){var t=void 0!==e&&(s?s(e):e);if(t||0===t)return t},d=new Error("Uncountable element");return s?(a=c.map((function(e){return e.hasOwnProperty("data")?p(e.data):d})),l=[],o=new Map,t.forEach((function(e){var t=p(e);o.set(t,e),l.push(t)}))):(a=c.map((function(e){return e.hasOwnProperty("data")?e.data:d})),l=t.slice()),a.forEach((function(e){e===d?l[n?"push":"unshift"](d):n=!0})),r.diff(a,l).map((function(e){return e.hasOwnProperty(2)?e.map((function(e,t){return t<2?e:i(o?o.get(e):e)})):e})).forEach((function(t){t.hasOwnProperty(1)&&function(e,t,i){for(var s=e.children,n=0;n<i;n++)s[t].remove()}(e,t[0],t[1]),t.hasOwnProperty(2)&&function(e,t,i){var s=e.children;t?s[t-1].after.apply(s[t-1],i):e.prepend.apply(e,i)}(e,t[0],t.slice(2))})),e}function S(e,t,i){var s=F(i);return Object.keys(i).forEach((function(n){var r=i[n];r===e?s[n]=t:null!=r&&"object"==typeof r&&(s[n]=S(e,t,r))})),s}function F(e){var t={};for(var i in e)null!=e[i]&&"object"==typeof e[i]?t[i]=F(e[i]):t[i]=e[i];return t}function _(e,t,i){if(!t||"object"!=typeof e)return i?e:void 0;var s,n=t.split("."),r=e;for(s=0;s<n.length;++s){if(null==r[n[s]])return;r=r[n[s]]}return r}function C(e,t,i){void 0===e&&(e=""),void 0===t&&(t="");var s=i?"<".concat(i,">$&</").concat(i,">"):"<mark>$&</mark>",n=e;return(t=String(t)).length>0&&(e=String(e),t=b(t),n=e.replace(new RegExp(t,"gi"),s)),n}function A(e,t){var i=null;return function(s){var n=this,r=s.target.value;i&&clearTimeout(i),i=setTimeout((function(){e.call(n,r),i=null}),t)}}function k(e,t,i){return(e=Array.isArray(e)?e:[e]).map((function(e){return t.find((function(t){return i(t)===e}))})).filter((function(e){return e}))}var x=function(e){return e},B=function(e){},D=function(){function e(){this.cache=[]}return e.prototype.get=function(e){return void 0===e&&(e=""),this.getValue(this.cache.find((function(t){return t.q===e})))},e.prototype.getLast=function(){return this.getValue(this.cache[0])},e.prototype.set=function(e,t){void 0===e&&(e=""),this.cache=this.cache.filter((function(t){return t.q!==e&&""===t.q})),this.cache.unshift({q:e,v:t,t:(new Date).getTime()})},e.prototype.clear=function(){this.cache=[]},e.prototype.getValue=function(e){if(e)return e.v},e}()},541:e=>{e.exports='data:image/svg+xml;utf8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="none" d="M 5 50 A 20 20 0 1 1 95 50" stroke-width="10" stroke="black"><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="0.6s" from="0 50 50" to="360 50 50" repeatCount="indefinite"/></path></svg>'}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={id:s,exports:{}};return e[s](r,r.exports,i),r.exports}i.m=e,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.b=document.baseURI||self.location.href;var s={};i.r(s),i.d(s,{Select:()=>y,SelectWeb:()=>L});var n,r=i(409),l=i(911),o="open",a="active",c="loading",p="selected",d="readonly",h="disabled",u="limited",m="select-dropdown-list-optgroup-option",f="add",v="remove",g=function(){function e(e,t){var i,s=this;this.paramsDefault={multiple:!1,readonly:!1,placeholder:"Select",multiplePlaceholder:"Add",emptyDropdownLabel:"Not found",openByRemove:!0,openByActiveRemove:!0,openByInputClick:!0,closeByRemove:!0,closeBySelect:!0,activeByOpen:!0,keepOpened:!1,removable:!1,hideSelected:!0,value:void 0,items:[],getItems:function(e,t){return[]},getItemsByValue:void 0,valueField:void 0,groupField:void 0,searchField:void 0,trackField:void 0,disabledField:void 0,dropdownItemLabelField:void 0,selectedItemLabelField:void 0,valueFieldGetter:l.lC,searchFieldGetter:l.lC,trackFieldGetter:l.lC,disabledFieldGetter:l.lQ,selectedItemLabelGetter:l.lC,dropdownItemLabelGetter:l.lC,groupLabelGetter:l.lC,groupFieldGetter:function(e){return""},customAreaGetter:l.lQ,infoGetter:function(e){return""},creatable:!1,createItemFn:l.lC,removeItemFn:l.lC,saveTrigger:"enter blur space . , ;",editable:!0,editItemFn:l.lC,multipleVisibleLimit:1/0,multipleLimit:1/0,multipleLimitBlinkDelay:150,debounce:200,useCache:!0,rotateList:!0,position:void 0,debug:!1},this.params=Object.assign({},this.paramsDefault),this.selectedItems=[],this.tmpl={},this.isOpen=!1,this.isFocused=!1,this.isLoading=!1,this.isRemovable=!1,this.isEmpty=!1,this.isDisabled=!1,this.isReadonly=!1,this.isDropdownAbove=!1,this.unbindFocusBlur=l.lQ,this.focusBlurInstance=null,this.searchFocusHandler=function(){s.setFocus(!0)},this.searchBlurHandler=function(){s.closeList(),s.setActiveSelectedElement(),s.insertListItems(),s.setFocus(!1),s.setQuery("")},this.searchInputHandler=(0,l.Ty)((function(e){s.searchChange(e)}),this.params.debounce),this.searchKeydownHandler=function(e){s.searchKeydown(e)},this.searchContainerClickHandler=function(e){var t=(0,l.cl)(e.target,s.tmpl.dropdownContainer,"select-search-list-item_selection");if(t){var i=(0,l.cl)(e.target,t,"close");s.selectedItemClick(t,!!i)}else s.inputFieldClick()},this.listItemClickHandler=function(e){var t=(0,l.cl)(e.target,s.tmpl.dropdownContainer,m);t&&(s.listItemClick(t),setTimeout((function(){if(s.isOpen){var t=(0,l.cl)(document.elementFromPoint(e.pageX,e.pageY),s.tmpl.dropdownContainer,m)||s.getFirstListElement();t&&s.setActiveListElement(t)}})))},this.listItemMousemoveHandler=function(e){var t=(0,l.cl)(e.target,s.tmpl.dropdownContainer,m);t&&t!==s.activeListElement&&s.setActiveListElement(t)},this.stopImmediatePropagation=function(e){return e.stopImmediatePropagation()},t&&((i=document.createElement("style")).innerHTML=String(t),e.before(i));var n=document.createElement("div");n.innerHTML=String(' <div class="select-search"> <div class="select-search-placeholder"></div> <div class="select-search-list"> <div class="select-search-list-item select-search-list-item_selection"> <span class="close">×</span> </div> <div class="select-search-list-item select-search-list-item_info"></div> <div class="select-search-list-item select-search-list-item_input"><span class="select-search-list-item_input-note"></span><input autocomplete="off"/></div> <div class="select-search-list-item select-search-list-item_loader"></div> </div> </div> <div class="select-dropdown"> <div class="select-dropdown-custom"></div> <div class="select-dropdown-empty"></div> <div class="select-dropdown-list"> <div class="select-dropdown-list-optgroup"> <div class="select-dropdown-list-optgroup-header"> </div> <div class="select-dropdown-list-optgroup-option"> </div> </div> </div> </div>'),this.elem=e,this.tmpl.searchContainer=n.querySelector(".select-search-list"),this.tmpl.searchPlaceholder=n.querySelector(".select-search-placeholder"),this.tmpl.selection=n.querySelector(".select-search-list-item_selection"),this.tmpl.selectionRemoveBtn=this.tmpl.selection.querySelector(".close"),this.tmpl.searchInputInfo=n.querySelector(".select-search-list-item_info"),this.tmpl.searchInputItem=n.querySelector(".select-search-list-item_input"),this.tmpl.searchInputNote=this.tmpl.searchInputItem.querySelector(".select-search-list-item_input-note"),this.tmpl.searchInput=this.tmpl.searchInputItem.querySelector("input"),this.tmpl.searchLoader=n.querySelector(".select-search-list-item_loader"),this.tmpl.dropdownContainer=n.querySelector(".select-dropdown-list"),this.tmpl.dropdownCustomArea=n.querySelector(".select-dropdown-custom"),this.tmpl.dropdownEmpty=n.querySelector(".select-dropdown-empty"),this.tmpl.optionGroup=n.querySelector(".select-dropdown-list-optgroup"),this.tmpl.optionGroupHeader=n.querySelector(".select-dropdown-list-optgroup-header"),this.tmpl.option=n.querySelector(".select-dropdown-list-optgroup-option"),this.tmpl.selection.remove(),this.tmpl.searchInputNote.remove(),this.tmpl.optionGroupHeader.remove(),this.tmpl.option.remove(),this.tmpl.optionGroup.remove(),this.elem.classList.add("base-select"),(0,l.gS)(this.elem),this.elem.prepend.apply(this.elem,n.children),this.addListeners()}return e.prototype.bindInput=function(e){void 0===e&&(e=this.tmpl.searchInput),this.focusBlurInstance&&this.focusBlurInstance.unbind(),this.focusBlurInstance=(0,l.zq)(this.elem,e)},e.prototype.addListeners=function(){this.elem.addEventListener("focus",this.searchFocusHandler),this.elem.addEventListener("blur",this.searchBlurHandler),this.tmpl.searchInput.addEventListener("input",this.searchInputHandler),this.tmpl.searchInput.addEventListener("keydown",this.searchKeydownHandler),this.tmpl.searchInput.addEventListener("change",this.stopImmediatePropagation),this.tmpl.searchContainer.addEventListener("click",this.searchContainerClickHandler),this.tmpl.dropdownContainer.addEventListener("click",this.listItemClickHandler),this.tmpl.dropdownContainer.addEventListener("mousemove",this.listItemMousemoveHandler),this.bindInput(this.tmpl.searchInput)},e.prototype.removeListeners=function(){this.elem.removeEventListener("focus",this.searchFocusHandler),this.elem.removeEventListener("blur",this.searchBlurHandler),this.tmpl.searchInput.removeEventListener("input",this.searchInputHandler),this.tmpl.searchInput.removeEventListener("keydown",this.searchKeydownHandler),this.tmpl.searchInput.removeEventListener("change",this.stopImmediatePropagation),this.tmpl.searchContainer.removeEventListener("click",this.searchContainerClickHandler),this.tmpl.dropdownContainer.removeEventListener("click",this.listItemClickHandler),this.tmpl.dropdownContainer.removeEventListener("mousemove",this.listItemMousemoveHandler),this.focusBlurInstance.unbind()},e.prototype.blinkRestriction=function(){var e=this;this.elem.classList.add(u),setTimeout((function(){e.elem.classList.remove(u)}),this.params.multipleLimitBlinkDelay)},e.prototype.setDropdownAbove=function(e){this.elem.classList[e?f:v]("above"),this.isDropdownAbove=e},e.prototype.setFocus=function(e){this.elem.classList[e?f:v]("focused"),this.isFocused=e},e.prototype.setLoading=function(e){this.elem.classList[e?f:v](c),this.isLoading=e},e.prototype.setElementLoading=function(e,t){void 0===t&&(t=!1),e.classList[t?f:v](c)},e.prototype.setRemovable=function(e){this.elem.classList[e?f:v]("removable"),this.isRemovable=e},e.prototype.setElementDisabled=function(e,t){e.classList[t?f:v](h)},e.prototype.isElementDisabled=function(e){return e.classList.contains(h)},e.prototype.setDisabled=function(e){e&&!this.isDisabled?(this.elem.setAttribute(h,"disabled"),this.tmpl.searchInput.setAttribute(h,"")):!e&&this.isDisabled&&(this.elem.removeAttribute(h),this.tmpl.searchInput.removeAttribute(h)),this.isDisabled=e},e.prototype.setReadonly=function(e){e&&!this.isReadonly?(this.elem.setAttribute(d,""),this.tmpl.searchInput.setAttribute(d,"")):!e&&this.isReadonly&&(this.elem.removeAttribute(d),this.tmpl.searchInput.removeAttribute(d)),this.isReadonly=e},e.prototype.openList=function(){this.isOpen||(this.params.position||this.setDropdownAbove((0,l.X3)(this.elem,this.tmpl.dropdownContainer)),this.isOpen=!0,this.elem.classList.add(o),this.params.activeByOpen&&this.setFirstActiveListElement(),this.elem.dispatchEvent(new Event("open")))},e.prototype.closeList=function(){var e=this;this.isOpen&&(this.isOpen=!1,setTimeout((function(){e.isOpen||(e.elem.classList.remove(o),e.setActiveListElement(),e.elem.dispatchEvent(new Event("close")))})))},e.prototype.updatePlaceholder=function(){var e=this.params.multiple&&this.selectedItems.length;this.tmpl.searchInput.placeholder=(e?this.params.multiplePlaceholder:this.params.placeholder)||"",this.tmpl.searchPlaceholder.innerHTML=this.params.placeholder||""},e.prototype.setPlaceholder=function(e){void 0===e&&(e=""),this.tmpl.searchInput.placeholder=String(e)},e.prototype.setInputInfo=function(e){void 0===e&&(e=""),this.tmpl.searchInputInfo.innerHTML=String(e)},e.prototype.updateInputInfo=function(){this.setInputInfo(this.params.infoGetter(this.selectedItems.length-this.params.multipleVisibleLimit))},e.prototype.setDropdownLabel=function(e){void 0===e&&(e=""),this.tmpl.dropdownEmpty.innerHTML=String(e)},e.prototype.setEmpty=function(e){this.tmpl.dropdownEmpty.classList[e?"remove":"add"]("hide"),this.isEmpty=e},e.prototype.setQuery=function(e,t){void 0===e&&(e="");var i=this.focusBlurInstance.inputElement;i.value=String(e),t&&e&&!this.isReadonly&&i.setSelectionRange(0,e.length)},e.prototype.getQuery=function(){return this.focusBlurInstance.inputElement.value},e.prototype.isListElementSelected=function(e){return e.classList.contains(p)},e.prototype.setListElementSelected=function(e){if(!e.classList.contains(p))return e.classList.add(p),!0},e.prototype.unsetListElementSelected=function(e){if(e.classList.contains(p))return e.classList.remove(p),!0},e.prototype.focus=function(){this.isFocused||this.isDisabled||this.focusBlurInstance.inputElement.focus()},e.prototype.blur=function(){this.isFocused&&!this.isDisabled&&this.focusBlurInstance.inputElement.blur()},e.prototype.setMultiple=function(e){this.elem.classList[e?"add":"remove"]("multiple")},e.prototype.getSelectedItemElementByItem=function(e){var t=this.params.trackFieldGetter;return Array.from(this.tmpl.searchContainer.children).find((function(i){return i.data&&t(i.data)===t(e)}))},e.prototype.getListElementByItem=function(e){for(var t=this.params.trackFieldGetter,i=this.tmpl.dropdownContainer.children,s=0;s<i.length;s++)if(this.isDataElement(i[s]))for(var n=i[s].children,r=0;r<n.length;r++)if(n[r].data&&t(n[r].data)===t(e))return n[r]},e.prototype.updateLabel=function(e,t,i,s,n){var r=t(i,s);return"string"==typeof r||"number"==typeof r?(n=n?n.outerHTML:"",e.innerHTML=String(r)+n):r&&(e.innerHTML="",e.appendChild(r),n&&e.appendChild(n.cloneNode(!0))),e},e.prototype.createListItemsGroupElement=function(e){var t=this.tmpl.optionGroup.cloneNode();if(t.data=e,e){var i=this.tmpl.optionGroupHeader.cloneNode();i.innerHTML=this.params.groupLabelGetter(e),t.appendChild(i)}return t},e.prototype.createListItemElement=function(e){var t=this.tmpl.option.cloneNode(),i=this.params.disabledFieldGetter(e);return this.updateLabel(t,this.params.dropdownItemLabelGetter,e),t.data=e,this.setElementDisabled(t,i),t},e.prototype.createSelectedItemElement=function(e){var t=this.tmpl.selection.cloneNode();return this.params.selectedItemLabelGetter(e),this.updateLabel(t,this.params.selectedItemLabelGetter,e,null,this.tmpl.selectionRemoveBtn),t.data=e,t},e.prototype.postRenderSelectedElements=function(){if(this.params.multipleVisibleLimit!==1/0)for(var e=Array.from(this.tmpl.searchContainer.children).filter((function(e){return e.hasOwnProperty("data")})),t=0;t<e.length;t++)t<this.params.multipleVisibleLimit?e[t].classList.remove("hide"):e[t].classList.add("hide")},e.prototype.insertSelectedElements=function(e){void 0===e&&(e=[]),(0,l.VC)(this.tmpl.searchContainer,e,this.createSelectedItemElement.bind(this),this.params.trackFieldGetter,!0),this.postRenderSelectedElements()},e.prototype.insertSelectedElement=function(e){var t=this.createSelectedItemElement(e);t.data=e,this.tmpl.searchContainer.insertBefore(t,this.tmpl.searchInputInfo),this.postRenderSelectedElements()},e.prototype.removeElement=function(e){e.remove(),this.postRenderSelectedElements()},e.prototype.insertListItems=function(e,t){var i=this;void 0===e&&(e=[]),void 0===t&&(t="");var s=this.selectedItems.slice(),n=this.params.trackFieldGetter;this.params.hideSelected&&(e=(0,l.E$)(e,s,n,!0)),this.setEmpty(!e.length);var r=(0,l.CZ)(e,"",this.params.searchFieldGetter),o=(0,l.YV)(r,this.params.groupFieldGetter),a=Object.keys(o).filter((function(e){return o[e].length})).sort(),c=(0,l.VC)(this.tmpl.dropdownContainer,a,this.createListItemsGroupElement.bind(this));return Array.from(c.children).forEach((function(e,r){if(void 0!==e.data){var a=o[e.data],c=(0,l.VC)(e,a,i.createListItemElement.bind(i),n);Array.from(c.children).map((function(e){e.data&&(i.updateLabel(e,i.params.dropdownItemLabelGetter,e.data,t),i.params.hideSelected||(s.some((function(t){return n(e.data)===n(t)}))?i.setListElementSelected(e):i.unsetListElementSelected(e)))}))}})),r},e.prototype.insertCustomArea=function(){var e=this.params.customAreaGetter.call(this);this.tmpl.dropdownCustomArea.innerHTML="",e&&this.tmpl.dropdownCustomArea.append(e)},e.prototype.setActiveSelectedElement=function(e){this.activeSelectedElement&&(this.activeSelectedElement.classList.remove(a),this.activeSelectedElement=null),e&&(e.classList.add(a),this.activeSelectedElement=e)},e.prototype.setActiveListElement=function(e){this.activeListElement&&(this.activeListElement.classList.remove(a),this.activeListElement=null),e&&this.isOpen&&(e.classList.add(a),this.activeListElement=e,(0,l.fM)(this.tmpl.dropdownContainer,e))},e.prototype.setFirstActiveListElement=function(){var e=this.isDropdownAbove?this.getLastListElement():this.getFirstListElement();this.setActiveListElement(e)},e.prototype.setNextActiveListElement=function(e,t){try{var i=this.activeListElement;if(!i)return this.setActiveListElement((this.isDropdownAbove?!e:e)?this.getLastListElement():this.getFirstListElement());var s=this.getSiblingElement(i,e);if(!this.isDataElement(s)){var n=this.getSiblingElement(i.parentNode||t,e);this.isDataElement(n)?s=this.findFirstChildElementWithData(n,e):this.params.rotateList&&(s=e?this.getLastListElement():this.getFirstListElement())}this.isDataElement(s)?this.setActiveListElement(s):this.setActiveListElement()}catch(e){this.setFirstActiveListElement()}},e.prototype.setPreviousActiveListElement=function(){this.setNextActiveListElement(!0)},e.prototype.getSiblingElement=function(e,t){var i=t?"previousSibling":"nextSibling";do{e=e&&e[i]}while(e&&!this.isDataElement(e));return e},e.prototype.getFirstListElement=function(){var e=this.findFirstChildElementWithData(this.tmpl.dropdownContainer);return this.findFirstChildElementWithData(e)},e.prototype.getLastListElement=function(){var e=this.findLastChildElementWithData(this.tmpl.dropdownContainer);return this.findLastChildElementWithData(e)},e.prototype.findFirstChildElementWithData=function(e,t){if(e)for(var i=e.children.length,s=0,n=i-1;s<i;s++,n--){var r=t?n:s,l=e.children[r];if(this.isDataElement(l))return l}},e.prototype.findLastChildElementWithData=function(e){return this.findFirstChildElementWithData(e,!0)},e.prototype.isDataElement=function(e){return e&&1===e.nodeType&&void 0!==e.data&&!this.isElementDisabled(e)},e}(),b=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),y=function(e){function t(t,i){void 0===i&&(i={});var s=e.call(this,t,i.localStyle)||this;return s.cache=new l.$i,s.setParams(i),s}return b(t,e),t.prototype.setParams=function(e,t){var i=this;void 0===e&&(e={}),void 0===t&&(t=!0),console.log("setParams",e),(0,l.TP)(this.params,e,this.paramsDefault);var s=function(t){return e.hasOwnProperty(t)},n=function(t){return e.hasOwnProperty(t)&&!e[t]};s("removable")&&(this.params.openByRemove=!e.removable),s("multiple")&&(this.params.openByRemove=!e.multiple,this.params.openByActiveRemove=!e.multiple),(s("multiple")||s("readonly"))&&(this.params.editable=!this.params.readonly&&!this.params.multiple),s("keepOpened")&&(this.params.openByRemove=e.keepOpened,this.params.closeByRemove=!e.keepOpened,this.params.closeBySelect=!e.keepOpened),s("openByRemove")&&(this.params.openByRemove=e.openByRemove),s("openByActiveRemove")&&(this.params.openByActiveRemove=e.openByActiveRemove),s("openByInputClick")&&(this.params.openByInputClick=e.openByInputClick),s("closeByRemove")&&(this.params.closeByRemove=e.closeByRemove),s("closeBySelect")&&(this.params.closeBySelect=e.closeBySelect),s("editable")&&(this.params.editable=e.editable),(n("valueFieldGetter")&&this.params.valueField||s("valueField"))&&(this.params.valueFieldGetter=function(e){return(0,l.AR)(e,i.params.valueField,!0)}),(n("groupFieldGetter")&&this.params.groupField||s("groupField"))&&(this.params.groupFieldGetter=function(e){return(0,l.AR)(e,i.params.groupField)}),(n("searchFieldGetter")&&this.params.searchField||s("searchField"))&&(this.params.searchFieldGetter=function(e){return(0,l.AR)(e,i.params.searchField,!0)}),(n("trackFieldGetter")&&(this.params.trackField||this.params.valueField)||s("trackField")||s("valueField"))&&(this.params.trackFieldGetter=function(e){return(0,l.AR)(e,i.params.trackField||i.params.valueField,!0)}),(n("disabledFieldGetter")&&this.params.disabledField||s("disabledField"))&&(this.params.disabledFieldGetter=function(e){return(0,l.AR)(e,i.params.disabledField)}),(n("dropdownItemLabelGetter")&&(this.params.dropdownItemLabelField||this.params.searchField)||!e.dropdownItemLabelGetter&&(s("dropdownItemLabelField")||s("searchField")))&&(this.params.dropdownItemLabelGetter=function(e,t){return(0,l.Zt)((0,l.AR)(e,i.params.dropdownItemLabelField||i.params.searchField,!0),t)}),(n("selectedItemLabelGetter")&&(this.params.selectedItemLabelField||this.params.searchField)||!e.selectedItemLabelGetter&&(s("selectedItemLabelField")||s("searchField")))&&(this.params.selectedItemLabelGetter=function(e){return(0,l.AR)(e,i.params.selectedItemLabelField||i.params.searchField,!0)}),s("placeholder")&&!s("multiplePlaceholder")&&(this.params.multiplePlaceholder=e.placeholder),e.creatable&&!e.createItemFn&&(this.params.createItemFn="object"==typeof e.creatable?function(t){return(0,l.fr)("$query",t,e.creatable)}:function(e){return e}),this.params.editable&&!e.editItemFn&&(this.params.editItemFn=function(e){return i.setQuery(e,!0)}),this.params.getItemsByValue||(this.params.getItemsByValue=function(e){return i.loadListItems().then((function(t){return(0,l.eK)(e,t,i.params.valueFieldGetter)}))}),s("items")&&(this.params.getItems=function(t){var s;return"object"==typeof t&&t.hasOwnProperty("query")&&(s=t,t=t.query),(0,l.CZ)(e.items||[],t,i.params.searchFieldGetter,s)});var r=!1,o=this.value;this.setDropdownLabel(this.params.emptyDropdownLabel),this.setRemovable(this.params.removable),this.setMultiple(this.params.multiple),this.setReadonly(this.params.readonly),this.setDisabled(this.params.disabled),this.setDropdownAbove("top"===this.params.position),this.updatePlaceholder(),(s("selectedItemLabelGetter")||s("selectedItemLabelField")||s("searchField")||s("searchFieldGetter"))&&this.selectedItems.length&&(this.insertSelectedElements([]),this.insertSelectedElements(this.selectedItems)),s("customAreaGetter")&&this.insertCustomArea(),s("activeByOpen")&&!e.activeByOpen&&this.setActiveListElement(),(s("items")||s("getItems"))&&(this.cache.clear(),this.isOpen&&(this.insertListItems([]),this.updateDropdownListItems(""))),s("value")&&(o=e.value,r=!0),this.params.multiple&&!Array.isArray(o)&&(o=null!=o?[o]:[],r=!0),!this.params.multiple&&Array.isArray(o)&&(o=o[0],r=!0),r&&this.value!==o&&(this.value=o,this.setQuery(""),this.selectItems(this.params.multiple?o:null!=o?[o]:[]).then(this.updateInputInfo.bind(this)),t&&!s("value")&&this.dispatchValue())},t.prototype.open=function(){var e=this;this.isOpen||this.updateDropdownListItems("").then((function(t){e.openList(),!e.params.multiple&&e.selectedItems.length&&setTimeout((function(){e.params.editItemFn.call(e,e.params.searchFieldGetter(e.selectedItems[0]))}))}))},t.prototype.close=function(){this.params.multiple||this.params.editItemFn.call(this,""),this.isOpen&&this.closeList()},t.prototype.loadListItems=function(e){var t,i,s=this;if(void 0===e&&(e=""),this.setLoading(!0),this.params.useCache)t=this.cache.get(e);else{var n=void 0;"object"==typeof e&&e.hasOwnProperty("query")&&(n=e,e=e.query),i=(0,l.CZ)(this.selectedItems,e,this.params.dropdownItemLabelGetter,n)}return this.loadItemsPromise=Promise.resolve(t||this.params.getItems(e,i)).then((function(t){return s.cache.set(e,t),s.loadItemsPromise=void 0,s.setLoading(!1),t})).catch((function(e){s.loadItemsPromise=void 0,s.setLoading(!1)})),this.loadItemsPromise},t.prototype.updateDropdownListItems=function(e){var t=this;return this.loadListItems(e).then((function(i){t.isDropdownAbove&&i.reverse(),t.insertListItems(i,e)}))},t.prototype.saveOn=function(e){var t=this;if(this.activeListElement){var i=this.activeListElement.parentNode;this.selectItem(this.activeListElement),this.setNextActiveListElement(null,i)}else if(this.params.creatable){var s=this.getQuery();if(!s)return;this.setLoading(!0),Promise.resolve(this.params.createItemFn(s)).then((function(e){var i=t.createListItemElement(e);t.setLoading(!1),t.selectItem(i,!0),t.params.activeByOpen&&t.setNextActiveListElement()})).catch((function(e){t.setLoading(!1)}))}},t.prototype.updateValue=function(){var e=this.params.valueField?this.selectedItems.map(this.params.valueFieldGetter):this.selectedItems,t=this.params.multiple?e.slice():e[0];this.value!==t&&(this.value=t,this.updatePlaceholder(),this.updateInputInfo(),this.dispatchValue())},t.prototype.dispatchValue=function(){var e=new Event("change");e.value=this.value,this.elem.dispatchEvent(e)},t.prototype.selectItems=function(e){var t=this;return Promise.resolve(this.params.valueField?this.params.getItemsByValue(e):e).then((function(e){t.updateSelectedElementList(e),t.isFocused&&t.updateDropdownListItems(t.focusBlurInstance.inputElement.value)}))},t.prototype.selectItem=function(e,t){var i=e.data;if(this.params.multipleLimit>=0&&this.selectedItems.length>=this.params.multipleLimit)this.blinkRestriction();else{if(!this.params.hideSelected&&this.isListElementSelected(e)){var s=this.getSelectedItemElementByItem(i);return this.unsetListElementSelected(e),void this.deselectItem(s,!0)}this.params.multiple?this.setActiveSelectedElement():(this.deselectAllItems(),this.setQuery("")),t&&this.setQuery(""),this.addToSelectedElementList(i),this.isOpen&&this.params.closeBySelect?(this.close(),this.setQuery("")):(this.insertListItems(this.cache.get(this.getQuery())),this.params.useCache||this.updateDropdownListItems(this.getQuery())),this.updateValue()}},t.prototype.deselectItem=function(e,t){var i=this;void 0===t&&(t=!1);var s=this.params.editable&&this.params.multiple;if(!this.params.multiple&&this.isReadonly)return this.setActiveSelectedElement(),t&&(this.removeSelectedItem(e),this.setActiveSelectedElement(),setTimeout((function(){i.setQuery("")}))),void this.open();s&&e&&setTimeout((function(){i.params.editItemFn.call(i,i.params.searchFieldGetter(e.data))})),t||e===this.activeSelectedElement||s?(this.removeSelectedItem(e),this.setActiveSelectedElement()):(this.setActiveSelectedElement(e),this.params.openByActiveRemove&&this.open())},t.prototype.deselectAllItems=function(){this.updateSelectedElementList([])},t.prototype.updateSelectedElementList=function(e){void 0===e&&(e=[]),this.selectedItems=e,this.insertSelectedElements(e)},t.prototype.addToSelectedElementList=function(e){this.selectedItems.push(e),this.insertSelectedElement(e)},t.prototype.removeSelectedItem=function(e){var t=this;if(e){var i=e.data;this.setElementLoading(e,!0),Promise.resolve(this.params.removeItemFn(i)).then((function(s){var n=(0,l.SL)(t.selectedItems,i,t.params.trackFieldGetter);if(t.setElementLoading(e,!1),t.selectedItems.splice(n,1),t.removeElement(e),t.params.hideSelected)t.insertListItems(t.cache.getLast());else{var r=t.getListElementByItem(i);t.isListElementSelected(r)&&t.unsetListElementSelected(r)}!t.isOpen&&t.params.openByRemove&&t.open(),t.isOpen&&t.params.closeByRemove&&t.close(),t.updateValue()})).catch((function(i){console.log("E",i),t.setElementLoading(e,!1)}))}},t.prototype.selectedItemClick=function(e,t){void 0===t&&(t=!1),this.isDisabled||(e.data&&!t&&this.dispatchCustomInputEvent("click:selected",e,e.data,t),this.params.multiple&&this.params.removable&&!t||(this.params.multiple&&!this.params.removable&&(t=!0),this.deselectItem(e,t)))},t.prototype.listItemClick=function(e){this.isDisabled||this.isElementDisabled(e)||(this.selectItem(e),this.dispatchCustomInputEvent("click:list",e))},t.prototype.inputFieldClick=function(){this.isDisabled||!this.params.openByInputClick||!this.params.multiple&&this.selectedItems.length||this.open()},t.prototype.searchChange=function(e){this.closeList(),this.updateDropdownListItems(e).then(this.openList.bind(this))},t.prototype.searchKeydown=function(e){switch(e.key){case"ArrowUp":this.isOpen?this.setPreviousActiveListElement():this.open();break;case"ArrowDown":this.isOpen?this.setNextActiveListElement():this.open();break;case"ArrowLeft":case"ArrowRight":break;case"Tab":this.saveOn("tab");break;case"Enter":this.saveOn("enter"),e.preventDefault();break;case"Escape":this.blur();break;case"Backspace":if(!this.tmpl.searchInput.value){var t=this.findLastChildElementWithData(this.tmpl.searchContainer);this.deselectItem(t);break}default:this.params.multiple&&this.setActiveSelectedElement()}},t.prototype.dispatchCustomInputEvent=function(e,t,i,s){void 0===s&&(s=!1)},t}(g),L=function(e){function t(t,i){return void 0===i&&(i={}),!1!==i.localStyle&&(i.localStyle="string"==typeof i.localStyle?i.localStyle:String(r.A)),e.call(this,t,i)||this}return b(t,e),t}(y);return s})()));